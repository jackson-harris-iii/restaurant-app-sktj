<!DOCTYPE html>

<html lang="en-us">

  <head>

    <meta charset="UTF-8">

    <title>Sexy Shark Shack</title>
  <link rel="stylesheet" href="assets/css/reset.css">
    <link rel="stylesheet" href="assets/css/style.css">

    <!-- Bootstrap -->

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

    <link href="https://fonts.googleapis.com/css?family=Rammetto+One" rel="stylesheet">

  </head>

  <body>


    <div id="container">

      <br>

      <!-- Jumbotron -->

      <div class="jumbotron">
        <h1 class="text-center">Sexy Shark Shack</h1>

        <p class="text-center"><button class="btn btn-default btn-lg">Make Reservation</button>

        <button class="btn btn-primary btn-lg"></span>Home</button></p>

      </div>




 <div class="container2">
    <h3 class="font">Reservations</h3>
    <p></p>
    <table class="table">
      <thead>
        <tr>
          <th>Position</th>
          <th>Name of Reservation</th>
        </tr>
      </thead>
      <tbody id="tbody">
        <tr>
          <td id='position'></td>
          <td id='resName'></td>
        </tr>
      </tbody>
    </table>
  </div> 


  <div class="container2">
    <h3 class="font">Wait List</h3>
    <p></p>
    <table class="table">
      <thead>
        <tr>
          <th>Position</th>
          <th>Name of Reservation</th>
        </tr>
      </thead>
      <tbody id="wtbody">
        <tr>
          <td id='waitPos'></td>
          <td id='waitName'></td>
        </tr>
      </tbody>
    </table>
  </div> 






        <!-- Sign-Up Panel-->
<!-- 
        <div class="col-lg-12">

          <div class="panel panel-default">

            <div class="panel-heading">

              <h3 class="panel-title">Table Reservation</h3>

            </div>

            <div class="panel-body">

              Sign-up Form

            <form role="form">

                <div class="form-group">

                  <label for="name-input">Name:</label>

                  <input class="form-control" id="name" type="text">

                </div>


              <form role="form">

                <div class="form-group">

                  <label for="phone-input">Phone Number</label>

                  <input class="form-control" id="phone" type="text">

                </div>

                <div class="form-group">

                  <label for="email-input">Email</label>

                  <input class="form-control" id="email" type="text">

                </div>


                 <div class="form-group">

                 <label for="id-input">Unique ID</label>

                  <input class="form-control" id="nameID">

                 </div>


                <button class="btn btn-default" id="addRows" type="submit">Submit</button>

              </form>

            </div>

          </div>

        </div> -->

        <h5><a href="/makereservation">API Table Link</a><span>  |  </span><a href="/viewtable">API Wait List</a></h5>

 

    <!-- jQuery -->

    <script src="https://code.jquery.com/jquery.js"></script>


<script type="text/javascript">

$.get('/reservations', function (data) {

  let names = data
  let count = 0
  let waitCount = 0
  

    data.forEach(element => {
      
      if (count < 4){
      let pos = count + 1
      let resname = $("<tr></tr>");
      let resposition = $("<tr></tr>");

      resname.append('<td>' + element.name + '</td>');
      resposition.append('<td>' + pos + '</td>');

      $("#resName").append(resname);
      $("#position").append(resposition);
      count++
      console.log(count)
    }
      else {
          let wpos = waitCount + 1
          let wresname = $("<tr></tr>");
          let wresposition = $("<tr></tr>");

          wresname.append('<td>' + element.name + '</td>');
          wresposition.append('<td>' + wpos + '</td>');

          $("#waitName").append(wresname);
          $("#waitPos").append(wresposition);
          waitCount++
          console.log('hello')
      }
    }); 

  });  
    </script>

  </body>

</html>